<?xml version="1.0"?>

<PropertyList>

  <filter>
    <type>gain</type>
    <gain>1</gain>
    <input>
      <condition>
        <equals>
          <property>/controls/ground-handling</property>
          <value>1</value>
        </equals>
        <or>
          <equals>
            <property>/gear/gear[1]/wow</property>
            <value>1</value>
          </equals>
          <equals>
            <property>/gear/gear[2]/wow</property>
            <value>1</value>
          </equals>
        </or>
        <less-than-equals>
          <property>/velocities/groundspeed-kt</property>
          <value>15</value>
        </less-than-equals>
      </condition>
      <value>1</value>
    </input>
    <input>
      <condition>
        <or>
          <equals>
            <property>/controls/ground-handling</property>
            <value>0</value>
          </equals>
          <equals>
            <property>/gear/gear[1]/wow</property>
            <value>0</value>
          </equals>
          <greater-than>
            <property>/velocities/groundspeed-kt</property>
            <value>15</value>
          </greater-than>
        </or>
      </condition>
      <value>0</value>
    </input>
    <output>/controls/ground-handling-int</output>
  </filter>

  <filter>
    <type>gain</type>
    <gain>1</gain>
    <input>
      <condition>
        <equals>
          <property>/controls/ground-handling-int</property>
          <value>1</value>
        </equals>
      </condition>
      <property>/controls/engines/engine/throttle</property>
    </input>
    <input>
      <condition>
        <equals>
          <property>/controls/ground-handling-int</property>
          <value>0</value>
        </equals>
      </condition>
      <value>0</value>
    </input>
    <output>/systems/groundhandling/throttle-input</output>
  </filter>

  <filter>
    <type>gain</type>
    <gain>1</gain>
    <input>
      <condition>
        <equals>
          <property>/controls/engines/engine[0]/reverser</property>
          <value>0</value>
        </equals>
      </condition>
      <property>/systems/groundhandling/throttle-input</property>
    </input>
    <input>
      <condition>
        <equals>
          <property>/controls/engines/engine[0]/reverser</property>
          <value>1</value>
        </equals>
      </condition>
      <expression>
        <product>
          <property>/systems/groundhandling/throttle-input</property>
          <value>-1</value>
        </product>
      </expression>
    </input>
    <output>/systems/groundhandling/throttle</output>
  </filter>



  <filter>
    <type>gain</type>
    <enable>
      <condition>
        <property>/lak16/winch-attached</property>
      </condition>
    </enable>
    <input>/controls/engines/engine[0]/throttle</input>
    <output>/lak16/winch-factor-raw</output>
  </filter>


  <filter>
    <type>gain</type>
    <gain>1</gain>
    <input>
      <condition>
        <equals>
          <property>/controls/ground-handling-int</property>
          <value>1</value>
        </equals>
      </condition>
      <property>/lak16/controls/flight/rudder-instructor</property>
    </input>
    <input>
      <condition>
        <equals>
          <property>/controls/ground-handling-int</property>
          <value>0</value>
        </equals>
      </condition>
      <value>0</value>
    </input>
    <output>/systems/groundhandling/rudder</output>
  </filter>


  <filter>
    <type>gain</type>
    <input>
      <expression>
        <div>
          <property>/sim/hitches/aerotow/tow/dist</property>
          <property>/sim/hitches/aerotow/tow/length</property>
        </div>
      </expression>
    </input>
    <output>/aaa/rope-tension</output>
  </filter>

  <filter>
    <type>gain</type>
    <input>
      <condition>
        <greater-than-equals>
          <property>/sim/hitches/aerotow/tow/dist</property>
          <property>/sim/hitches/aerotow/tow/length</property>
        </greater-than-equals>
      </condition>
      <expression>
        <div>
          <difference>
            <property>/aaa/d</property>
            <property>/aaa/rope-tension</property>
          </difference>
          <property>/aaa/d</property>
        </div>
      </expression>
    </input>
    <input>1</input>
    <output>/aaa/damping</output>
    <min>0</min>
    <max>1</max>
  </filter>

  <filter>
    <type>exponential</type>
    <filter-time>
      <property>/lak16/throttle-filter</property>
    </filter-time>
    <input>/lak16/winch-factor-raw</input>
    <output>/lak16/winch-factor</output>
  </filter>

</PropertyList>
